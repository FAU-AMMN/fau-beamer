\ProvidesPackage{styles/beamerposterthemefau}
% ..............................................................................
\RequirePackage{xifthen}
\RequirePackage{geometry}

% ..............................................................................
\newif\iffau@isfau\fau@isfautrue
\newif\iffau@isphil\fau@isphilfalse
\newif\iffau@isrewi\fau@isrewifalse
\newif\iffau@ismed\fau@ismedfalse
\newif\iffau@isnat\fau@isnatfalse
\newif\iffau@istech\fau@istechfalse
\newcount\fau@dina

\newdimen\pageheight
\newdimen\pagewidth
\newdimen\fau@outer@SideBarWidthRight


% ..............................................................................
% Institute
% -------
%
% Define which insitute template should be used.
% ------------------------------------------------------------------------------
\def\inst{FAU}
\DeclareOptionBeamer{institute}{%
  \PassOptionsToPackage{institute=#1}{styles/beamercolorthemefau}
  \ifthenelse{\equal{#1}{FAU}}{\fau@isfautrue\def\inst{FAU}}{\fau@isfaufalse}%
  \ifthenelse{\equal{#1}{Phil}}{\fau@isphiltrue\def\inst{Phil}}{\fau@isphilfalse}%
  \ifthenelse{\equal{#1}{RW}}{\fau@isrewitrue\def\inst{RW}}{\fau@isrewifalse}%
  \ifthenelse{\equal{#1}{Med}}{\fau@ismedtrue\def\inst{Med}}{\fau@ismedfalse}%
  \ifthenelse{\equal{#1}{Nat}}{\fau@isnattrue\def\inst{Nat}}{\fau@isnatfalse}%
  \ifthenelse{\equal{#1}{Tech}}{\fau@istechtrue\def\inst{Tech}}{\fau@istechfalse}%
}


% ..............................................................................
% Poster Size
% -------
%
% Declare the poster size, which is later passed to the beamerposter package.
% Addionally we pass the portrait option. 
% ------------------------------------------------------------------------------
\DeclareOptionBeamer{size}{%
  \PassOptionsToPackage{size=#1,scale=1.4}{beamerposter}%
  \ifthenelse{\equal{#1}{a0}}{\fau@dina=0}{}%
  \ifthenelse{\equal{#1}{a1}}{\fau@dina=1}{}%
  \ifthenelse{\equal{#1}{a2}}{\fau@dina=2}{}%
  \ifthenelse{\equal{#1}{a3}}{\fau@dina=3}{}%
  \ifthenelse{\equal{#1}{a4}}{\fau@dina=4}{}%
}

\PassOptionsToPackage{orientation=portrait}{beamerposter}


\def\WordMark{template-art/FAUWortmarkeBlau.pdf}
\def\WordMarkTitle{template-art/FAUWortmarkeWhite.pdf}

% The following are dependent on the institute
\def\WordMarkTitleLeft{template-art/\inst KennungWhite.pdf}

% fall back to default image, if the images are not in the folder
\newcommand{\includegraphicsdefault}[2][width=\linewidth]{%
\IfFileExists{#2}%
{\includegraphics[#1]{#2}}%
{\includegraphics[#1]{template-art/default-image}}%
}%
\DeclareOptionBeamer{ExtraLogo}{\PassOptionsToPackage{ExtraLogo=#1}{styles/beamerouterthemefau}}

% ..............................................................................
% Url and Signature for footer.
% ------------------------------------------------------------------------------
\def\fau@url{}
\DeclareOptionBeamer{url}{%
  \def\fau@url{#1}
}

\def\fau@signature{}
\DeclareOptionBeamer{signature}{%
  \def\fau@signature{#1}
}

\DeclareOptionBeamer{logo}{%
  \PassOptionsToPackage{userlogo=#1}{styles/beamerinnerthemefau}
  \PassOptionsToPackage{userlogo=#1}{styles/beamerouterthemefau}
}
% ------------------------------------------------------------------------------

% ..............................................................................
% Process options.
% ------------------------------------------------------------------------------
\ExecuteOptionsBeamer{url=www.fau.de}
\ExecuteOptionsBeamer{signature=}
\ProcessOptionsBeamer
\selectcolormodel{rgb}
\mode<presentation>
% ------------------------------------------------------------------------------
\RequirePackage{beamerposter}


\ifcase\fau@dina %a0
	\setlength{\pageheight}{3367.5pt}
	\setlength{\pagewidth}{2383.9pt}
	
	\def\factor{3.31}
	
	% ..............................................................................
	% Font size.
	% ------------------------------------------------------------------------------
	\PassOptionsToPackage{Size=24}{styles/beamerfontthemefau}
	\PassOptionsToPackage{BaseLineSkip=29}{styles/beamerfontthemefau}
\else
  \PackageError{beamerposterthemefau}{Option 'size' must be one of 'a0', 'a1', 'a2', 'a3', or 'a4'.}{}
\fi

% ..............................................................................
% Dimensions for page layout
% ------------------------------------------------------------------------------
\PassOptionsToPackage{SideBarWidthLeft=\factor\dimexpr30.6pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{HeaderHeight=\factor\dimexpr14.1pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{HeaderTitleHeight=\factor\dimexpr11.3pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{TitleHeight=\factor\dimexpr85.0pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{TitleLineHeight=\factor\dimexpr28.3pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{TitleSkip=\factor\dimexpr14.2pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{TitleSkipLeft=\factor\dimexpr32.6pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{LineWidthThick=\factor\dimexpr5.6pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{LineWidthThin=\factor\dimexpr1.4pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{FootHeight=\factor\dimexpr25.5pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{FootLineSkip=\factor\dimexpr8.5pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkTitleHeight=\factor\dimexpr62.0pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkTitleWidth=\factor\dimexpr130.4pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkLeftHeight=\factor\dimexpr34pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkLeftWidth=\factor\dimexpr209.8pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkBoxWidth=\factor\dimexpr170pt\relax}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkSkip=\factor\dimexpr34pt\relax}{styles/beamerouterthemefau}

\PassOptionsToPackage{WordMark=\WordMark}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkTitle=\WordMarkTitle}{styles/beamerouterthemefau}
\PassOptionsToPackage{WordMarkTitleLeft=\WordMarkTitleLeft}{styles/beamerouterthemefau}

\setlength{\fau@outer@SideBarWidthRight}{\factor\dimexpr 15pt\relax}


% ------------------------------------------------------------------------------
\usepackage{styles/beamerfontthemefau}
\usepackage{styles/beamercolorthemefau}
\usepackage{styles/beamerinnerthemefau}
\usepackage{styles/beamerouterthemefau}
% ------------------------------------------------------------------------------

% ..............................................................................
% Frame title
% -----------
%
% ------------------------------------------------------------------------------

\setbeamertemplate{frametitle}{%
\nointerlineskip%
\begin{beamercolorbox}[dp=0cm, sep=0.0cm,left,
					   wd=\dimexpr\paperwidth-\fau@outer@SideBarWidthLeft-\fau@outer@SideBarWidthRight,
					   ht=\dimexpr\fau@outer@TitleHeight]{}%
\usebeamerfont{frametitle}%
%
\vbox to\dimexpr\fau@outer@TitleHeight{%
%
\vfill%
}%
\end{beamercolorbox}%
}%

% ..............................................................................
% Sidebar
% -------
%
% This section specifies the behaviour of the sidbar.
% ------------------------------------------------------------------------------

\setbeamersize{sidebar width left=\fau@outer@SideBarWidthLeft}
\setbeamersize{sidebar width right=\fau@outer@SideBarWidthRight}
%
\setbeamertemplate{sidebar right}{%
\begin{beamercolorbox}[dp=0pt,sep=0pt,%
					   wd=\fau@outer@SideBarWidthRight,%
					   ht=\dimexpr\paperheight-\fau@outer@FootHeight]{sidebar title}%
%
\end{beamercolorbox}%
}%

\setbeamertemplate{sidebar left}{}%

% ..............................................................................
% Footline
% ------------------------------------------------------------------------------

\setbeamertemplate{footline}{%
\begin{beamercolorbox}[wd=\paperwidth,ht=\fau@outer@FootHeight]{}%
\hbox to \paperwidth{%
\hskip\dimexpr\fau@outer@SideBarWidthLeft%
%
% left side of the footer
%
\begin{beamercolorbox}[dp=0pt,sep = \fau@outer@FootLineSkip,%
					   leftskip= -\fau@outer@FootLineSkip,%
					   wd=\dimexpr.5\paperwidth-\fau@outer@SideBarWidthLeft,%
  					   ht=\dimexpr\fau@outer@FootHeight]{}%
\normalsize\textbf{\fau@url}%
%
\end{beamercolorbox}%
\hfil%
%
% rigth side of the footer
%
\begin{beamercolorbox}[dp=0pt,sep = \fau@outer@FootLineSkip,%
					   rightskip=\dimexpr\fau@outer@SideBarWidthLeft-\fau@outer@FootLineSkip,%
					   wd=\dimexpr.5\paperwidth-\fau@outer@SideBarWidthRight,%
  					   ht=\dimexpr\fau@outer@FootHeight]{}%
\hfill%
\normalsize\textbf{\fau@signature}%
\end{beamercolorbox}%
\hfil%
\begin{beamercolorbox}[dp=0pt, sep = 0pt,
					   wd=\fau@outer@SideBarWidthRight,%
  					   ht=\dimexpr\fau@outer@FootHeight]{sidebar title}%
\end{beamercolorbox}%
}%
\end{beamercolorbox}%
}%

\setbeamertemplate{headline}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mode<all>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%